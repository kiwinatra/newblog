---
title: –ö–∞–∫ —É—Å–∫–æ—Ä–∏—Ç—å —Å–≤–æ–π —Å–∞–π—Ç –Ω–∞ 300% —Å Edge Runtime
date: '2025-11-1'
tags: [dev, nextjs]
draft: false
summary: API Routes –ò —Ç–¥.
---

## üìä –ë—ã–ª–æ vs –°—Ç–∞–ª–æ

–î–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ Edge Runtime:
- LCP: 2.8s
- FID: 180ms
- TTFB: 800ms

–ü–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞:
- LCP: 0.9s ‚¨áÔ∏è 68%
- FID: 45ms ‚¨áÔ∏è 75% 
- TTFB: 120ms ‚¨áÔ∏è 85%

## ü§î –ü–æ—á–µ–º—É Edge Runtime?

Edge Runtime –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–∞—à –∫–æ–¥ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–ª–∏–∂–µ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º. –í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –≤ us-east-1 - –¥–µ—Å—è—Ç–∫–∏ —Ç–æ—á–µ–∫ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É.

## üîß –ü–æ—à–∞–≥–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

### 1. API Routes

```javascript
// –ë–´–õ–û: pages/api/user.js
export default function handler(req, res) {
  res.json({ user: req.user })
}

// –°–¢–ê–õ–û:
export default function handler(req) {
  return Response.json({ user: req.user })
}

export const config = {
  runtime: 'edge'
}
```

### 2. Middleware

```javascript
// middleware.js
import { NextResponse } from 'next/server'

export function middleware(request) {
  // –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ edge!
  const response = NextResponse.next()
  response.headers.set('x-edge', 'true')
  return response
}

export const config = {
  matcher: '/api/:path*'
}
```

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –æ –∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–æ–∏—Ç –∑–Ω–∞—Ç—å

- –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ Node.js API (fs, path)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ (–¥–æ 128MB)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 30 —Å–µ–∫—É–Ω–¥

## üõ†Ô∏è –ú–æ–π –∫–∞—Å—Ç–æ–º–Ω—ã–π edge-—Å—Ç–µ–∫

```javascript
// lib/edge-config.js
export const edgeConfig = {
  runtime: 'edge',
  regions: ['iad1', 'sfo1', 'sin1'], // –í—ã–±–∏—Ä–∞–µ–º —Ä–µ–≥–∏–æ–Ω—ã
}

// –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ API
import { getRedisClient } from './redis-edge' // Redis –Ω–∞ edge
import { edgeFetch } from './fetch-wrapper' // –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è fetch
```

## üìà –†–µ–∞–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã

- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: TTFB —É–º–µ–Ω—å—à–∏–ª—Å—è —Å 800ms –¥–æ 120ms
- **–ì–µ–æ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ +40% –∫ —Å–∫–æ—Ä–æ—Å—Ç–∏
- **Costs**: –ù–∞ 15% –¥–µ—à–µ–≤–ª–µ –∏–∑-–∑–∞ –º–µ–Ω—å—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üí° –í—ã–≤–æ–¥—ã

Edge Runtime - –Ω–µ –ø–∞–Ω–∞—Ü–µ—è, –Ω–æ –¥–ª—è API —Å –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π –∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π - game changer. –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö API endpoints –∏ –∏–∑–º–µ—Ä—è–π—Ç–µ –∫–∞–∂–¥—ã–π —à–∞–≥!
