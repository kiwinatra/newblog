@tailwind base;
@tailwind components;
@tailwind utilities;

.task-list-item::before {
  @apply hidden;
}

.task-list-item {
  @apply list-none;
}

.footnotes {
  margin-top: 3rem;
  border-top-width: 1px;
  border-top-color: #EF9A9A;
  padding-top: 2rem;
}

.dark .footnotes {
  border-top-color: #D32F2F;
}

.csl-entry {
  @apply my-5;
}

@layer utilities {
  .special-underline {
    background-image: linear-gradient(to right, #DC143C, #228B22);
    @apply bg-no-repeat pb-0.5
      font-normal [background-position:0_100%]
      [background-size:100%_0.2em]
      hover:text-white hover:[background-size:100%_100%]
      focus:[background-size:100%_100%]
      motion-safe:transition-all
      motion-safe:duration-300;
  }

  .dark .special-underline {
    background-image: linear-gradient(to right, #FFD700, #32CD32);
  }

  .special-underline-new {
    background-image: linear-gradient(to right, #DC143C, #228B22);
    @apply bg-no-repeat pb-1
      font-normal [background-position:0_100%]
      [background-size:100%_0.1em]
      hover:text-white hover:[background-size:100%_100%]
      focus:[background-size:100%_100%]
      motion-safe:transition-all
      motion-safe:duration-300;
  }

  .dark .special-underline-new {
    background-image: linear-gradient(to right, #FFD700, #32CD32);
  }

  .company {
    box-shadow: inset 0 0 0 0 #DC143C;
    color: #DC143C;
    margin: 0 -0.25rem;
    padding: 0 0.25rem;
    transition: color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
  }
  .company:hover {
    box-shadow: inset 200px 0 0 0 #DC143C;
    color: white;
  }

  .christmas-glow {
    text-shadow: 0 0 10px rgba(255, 215, 0, 0.7),
                 0 0 20px rgba(220, 20, 60, 0.5),
                 0 0 30px rgba(34, 139, 34, 0.3);
  }

  .snow-effect {
    background-image: 
      radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.1) 0.5px, transparent 0.5px),
      radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.15) 0.5px, transparent 0.5px),
      radial-gradient(circle at 30% 40%, rgba(255, 255, 255, 0.1) 0.5px, transparent 0.5px);
    background-size: 100px 100px, 150px 150px, 200px 200px;
  }
}

html {
  scroll-behavior: smooth;
}

/* https://stackoverflow.com/questions/61083813/how-to-avoid-internal-autofill-selected-style-to-be-applied */
input:-webkit-autofill,
input:-webkit-autofill:focus {
  transition: background-color 600000s 0s, color 600000s 0s;
}

/* Christmas-themed selection colors */
::-moz-selection {
  background: linear-gradient(90deg, #DC143C, #228B22);
  color: white;
}
::-webkit-selection {
  background: linear-gradient(90deg, #DC143C, #228B22);
  color: white;
}
::selection {
  background: linear-gradient(90deg, #DC143C, #228B22);
  color: white;
}

/* Custom scrollbar with Christmas theme */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: linear-gradient(to bottom, #0A0F0D, #1B5E20);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, #DC143C, #FFD700);
  border-radius: 6px;
  border: 2px solid #0A0F0D;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, #FFD700, #DC143C);
}

/* Snowflake cursor effect for special elements */
.snowflake-cursor {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='%23FFFFFF'%3E%3Cpath d='M12 2L9.5 9.5L2 12L9.5 14.5L12 22L14.5 14.5L22 12L14.5 9.5L12 2Z'/%3E%3C/svg%3E"), auto;
}

/* Christmas bauble hover effect */
.christmas-bauble {
  transition: transform 0.3s ease;
  filter: drop-shadow(0 4px 6px rgba(220, 20, 60, 0.3));
}

.christmas-bauble:hover {
  transform: scale(1.1) rotate(15deg);
  animation: twinkle-light 1.5s ease-in-out infinite;
}

/* Garland effect */
.garland {
  background: linear-gradient(90deg, 
    #DC143C 0%, 
    #228B22 25%, 
    #FFD700 50%, 
    #228B22 75%, 
    #DC143C 100%);
  background-size: 200% 100%;
  animation: garland-flow 3s linear infinite;
}

@keyframes garland-flow {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: 0 0;
  }
} 
@keyframes fall-sway {
  0% {
    transform: translateY(-100px) translateX(0px) rotate(0deg);
    opacity: 0;
  }
  5% {
    opacity: var(--flake-opacity, 0.5);
  }
  95% {
    opacity: var(--flake-opacity, 0.5);
  }
  100% {
    transform: translateY(100vh) translateX(var(--flake-sway, 20px)) rotate(360deg);
    opacity: 0;
  }
}